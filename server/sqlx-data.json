{
  "db": "PostgreSQL",
  "010a192687891d6df57b1cf699eb0453d50eae119aa812876a922d794127614d": {
    "query": "with insert_template as (\r\n    insert into templates(body, name, project_id, of_type)\r\n    values ($1, $2, $3, 'view')\r\n    on conflict (project_id, name) do update set body = $1\r\n    returning id\r\n)\r\ninsert into template_data(from_name, subject, template_id, redirect_to, of_type)\r\nselect $4 as from_name\r\n     , $5 as subject\r\n     , insert_template.id as template_id\r\n     , $6 as redirect_to\r\n     , $7 as of_type\r\n  from insert_template \r\non conflict (template_id, of_type)\r\n  do update set from_name = $4\r\n              , subject = $5\r\n              , redirect_to = $6",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Uuid",
          "Text",
          "Text",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "0138f9e9a57bc2abff5e20ec00a5e3e4787930f055bd64c5c6203ab913134304": {
    "query": "select project_id as id\r\n     , public_key as key\r\n  from project_keys ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "key",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "01bab3838d76efb6fce3091fb00bbb819fa8eba91160107e12631a029e532a1d": {
    "query": "with raw_template_data as (\r\n    select *\r\n      from jsonb_to_recordset($1)\r\n        as x(\r\n           id uuid\r\n         , from_name text\r\n         , subject text\r\n         , redirect_to text\r\n         , of_type text\r\n         , template_type text\r\n         )\r\n)\r\ninsert into template_data\r\nselect raw_template_data.from_name\r\n     , '{{t.subject}}' as subject\r\n     , raw_template_data.id as template_id\r\n     , raw_template_data.redirect_to\r\n     , raw_template_data.of_type\r\n  from raw_template_data\r\n where raw_template_data.template_type = 'view'",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "08f5785fd03da32047a0331aa2ebe43a135c24de9886f89e5c81d926ea714753": {
    "query": "\r\nselect users.id as \"sub\"\r\n     , users.traits as \"traits\"\r\n     , users.project_id as \"iss\"\r\n     , extract(epoch from now() + interval '15 minutes')::numeric::bigint as \"exp!\"\r\n  from api_keys\r\n  join users on users.id = api_keys.user_id\r\n where api_keys.id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "sub",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "traits",
          "type_info": "TextArray"
        },
        {
          "ordinal": 2,
          "name": "iss",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "exp!",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        null
      ]
    }
  },
  "0cc9374c85dfbb62e95cdc7797abe47cce3833cc151fd97d9f858bc33526cee9": {
    "query": "\r\ninsert into api_keys(token, user_id, expire_at, name)\r\nvalues($1, $2, $3, $4)\r\nreturning id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "Timestamptz",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "0d55d8318c4c8df2f34966d42cf7eb90354aeda4f181d8ab6717bc06a5699d35": {
    "query": "with languages as (\r\n    select array_append($2, project_settings.default_language) as languages\r\n      from project_settings\r\n     where project_id = $1\r\n\r\n)\r\nselect lang.prio, template_translations.content\r\n  from languages, unnest(languages.languages) WITH ORDINALITY AS lang(code, prio)\r\n  join templates on templates.name = $3\r\n  join template_translations on template_translations.language = lang.code\r\n                            and template_translations.template_id  = templates.id\r\n order by lang.prio\r\n limit 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "prio",
          "type_info": "Int8"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "TextArray",
          "Text"
        ]
      },
      "nullable": [
        null,
        false
      ]
    }
  },
  "0e80903c4a39f9bb8067e74d6697e4963cf37ed363778d8e03a4cf39b913207f": {
    "query": "select id\r\n  from projects\r\n where is_admin = True",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false
      ]
    }
  },
  "0f9f869a3db6b83f4db7c11eeda2e9fe0c360e8fec6e3f184d179e45c4b4b5cc": {
    "query": "with delete_token as (\r\n    delete from verify_email\r\n     where user_id = $1\r\n     returning user_id\r\n)\r\nupdate users\r\n   set email_verified = true\r\n  from delete_token\r\n where id = delete_token.user_id",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "185559486165216884fc348ff29359b300e9421a1f24d7cbc02ead5c782389f6": {
    "query": "with raw_template_data as (\r\n    select *\r\n      from jsonb_to_recordset($1)\r\n        as x(\r\n           id uuid\r\n         , translation jsonb\r\n         , template_type text\r\n         )\r\n)\r\ninsert into template_translations\r\nselect raw_template_data.id as template_id\r\n     , 'en' as language\r\n     , raw_template_data.translation\r\n  from raw_template_data\r\n where raw_template_data.template_type = 'view'",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "206e748963b01c6332cc10ddc1addb99925d4418511c7a0a66673a53ca3bde8f": {
    "query": "\r\nselect password_alg as \"alg: PasswordAlg\"\r\n  from users\r\n  join project_settings on project_settings.project_id = users.project_id\r\n where users.id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "alg: PasswordAlg",
          "type_info": {
            "Custom": {
              "name": "password_alg",
              "kind": {
                "Enum": [
                  "bcrypt",
                  "argon2id",
                  "sha1",
                  "scrypt",
                  "pbkdf2",
                  "md5"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "23516858fe2c9e78934be8c8dfb282071229814878933ca7275332edfc00840b": {
    "query": "\r\nwith insert_user as (\r\n        insert into users(email, project_id, provider_id, device_languages)\r\n        values($1, $3, 'password', $4)\r\n        returning id\r\n)\r\ninsert into passwords(user_id, alg, hash)\r\nselect insert_user.id as \"user_id\"\r\n     , 'bcrypt' as \"alg\"\r\n     , $2 as \"hash\"\r\n  from insert_user \r\nreturning user_id as \"id\"",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Uuid",
          "TextArray"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "2ba1a6cdc73d23d31f1accab094eeca32f6588190f34f490ea327aeddfa5a01f": {
    "query": "update users\r\n   set state = 'active'\r\n where id = $1\r\n   and project_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "2cb23362ddbc936b8585ac9da8a5a446f1e5bb801e18f1d5dd8c504fedd56097": {
    "query": "insert into passwordless (user_id, email, token, project_id, session_id)\r\nvalues ($1, $2, $3, $4, $5)\r\nreturning id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "2e62e5d90d539b9381d3586a42563ed1902f1ff9c97f679a1ef4815a3a5e624d": {
    "query": "select template_translations.language\r\n     , template_translations.content\r\n  from templates\r\n  join template_translations on template_translations.template_id = templates.id\r\n where templates.project_id = $1\r\n   and templates.name = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "language",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "3019fcccf2bfae365596fe62b9c8807efc1c5ab438db80e162dfa631ccf5e173": {
    "query": "insert into verify_email (token, user_id, project_id)\r\nvalues ($1, $2, $3)\r\nreturning id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "31cb0ac95c2f9f5a23602ed63f45685fa4e03880ac7ca23b46c11984a67845a1": {
    "query": "\r\nselect is_admin\r\n  from projects\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "is_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "33217f064dd0cdc645afe501b2a11d357d0f6c371c67d4cb2e223de63dc3bd55": {
    "query": "\r\nselect email\r\n  from users\r\n where id = $1\r\n ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "email",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "3756c8e7d7b76cd6b12ad1cc5fa76443cafdff8c39c894b03265cadf229dc741": {
    "query": "insert into email_settings(project_id, host, from_name, from_email, password, username, port)\r\nvalues($1, $2, $3, $4, $5, $6, $7)\r\non conflict (project_id)\r\n  do update\r\n        set host = $2\r\n          , from_name = $3\r\n          , from_email = $4\r\n          , password = $5\r\n          , username = $6\r\n          , port = $7 ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Text",
          "Text",
          "Text",
          "Int4"
        ]
      },
      "nullable": []
    }
  },
  "37ea8f96ae278c30fb284245e1522e2eba2f298f00e11a3efd4849284f55d54b": {
    "query": "update project_settings\r\n   set name = $2\r\n     , domain = $3\r\n where project_id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "3a388d6d2bcf254c7cdcb66582094090727e9925ac4c07ca0cb92c5ef4bc8bcc": {
    "query": "\r\nwith insert_admin as (\r\n     insert into users\r\n          ( email\r\n          , project_id\r\n          , traits\r\n          , data\r\n          , provider_id\r\n          )\r\n     values\r\n          ( $1\r\n          , $3\r\n          , '{ \"Admin\" }'\r\n          , '{}'::jsonb\r\n          , 'email'\r\n          )\r\n     returning id\r\n)\r\ninsert into passwords(user_id, alg, hash)\r\nselect insert_admin.id as \"user_id\"\r\n     , 'bcrypt' as \"alg\"\r\n     , $2 as \"hash\"\r\n  from insert_admin \r\nreturning user_id as \"id\"",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "44399adc00a228b912f31770efa3933517d22d0617e7e4970e6345d37b9d317b": {
    "query": "delete from template_translations\r\n where template_translations.language = $1\r\n   and template_translations.template_id in (\r\n    select id\r\n      from templates\r\n     where project_id = $2\r\n       and name = $3\r\n   )",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "Text"
        ]
      },
      "nullable": []
    }
  },
  "4af88c85db71db29320531dde8e69c63e7e4cfa34e88272cd2ca1af9088b164f": {
    "query": "\r\ndelete from projects\r\n where id = $1\r\n   and is_admin = false",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "4cdac22b86e2cd898905274634e66c5388aebcc3049fec04e003fd14e99866bd": {
    "query": "select project_id as id\r\n     , public_key as key\r\n  from project_keys\r\n where project_id = $1 ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "key",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "53acea74f1ac51d462b87d94ca5b0db092e71f084c010db45c05f43b75698fbe": {
    "query": "select public_key\r\n  from project_keys\r\n where project_id = $1\r\n   and is_active = true",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "public_key",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "5422ec4f4187decdc60a3db3c040c7a1136949c62813ee11951aa0bed3617a47": {
    "query": "select count(*) > 0 as has_admin\r\n  from projects\r\n  join users on users.id = projects.id\r\n where projects.is_admin = True",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "has_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        null
      ]
    }
  },
  "5a368c2729dad5a9d8fc85e67c3546d0982a0cda0774add30e47a4e4611c3286": {
    "query": "select id\r\n     , public_key\r\n     , expire_at\r\n     , user_id\r\n     , project_id\r\n  from sessions\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "public_key",
          "type_info": "Bytea"
        },
        {
          "ordinal": 2,
          "name": "expire_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "project_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        true,
        true
      ]
    }
  },
  "6529a1594142ff54f1afcf04c3cbdb98b5cdf5fffaef38af61a2d5e2e86c52ca": {
    "query": "select token\r\n     , user_id\r\n     , created_at\r\n     , expire_at\r\n  from password_change_requests\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "expire_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "66500709c60d0798a350f72cdca6941a5a09ff37ce8021596340bffba061899f": {
    "query": "\r\nselect reset_token as token\r\n     , state as \"state: EmailChangeState\"\r\n  from email_change_request\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "state: EmailChangeState",
          "type_info": {
            "Custom": {
              "name": "email_change_state",
              "kind": {
                "Enum": [
                  "request",
                  "reject",
                  "accept",
                  "reset"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "6afd1424a7d33108b0cbcd0b3edeb9677b566fc6f36f836aa686752150a6d620": {
    "query": "select id\r\n     , display_name\r\n     , email\r\n     , email_verified\r\n     , photo_url\r\n     , traits\r\n     , data\r\n     , provider_id\r\n     , created_at\r\n     , updated_at\r\n     , state as \"state: UserState\"\r\n     , device_languages\r\n  from users\r\n where id = $1\r\n   and project_id = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "email_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "photo_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "traits",
          "type_info": "TextArray"
        },
        {
          "ordinal": 6,
          "name": "data",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 7,
          "name": "provider_id",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 10,
          "name": "state: UserState",
          "type_info": {
            "Custom": {
              "name": "user_state",
              "kind": {
                "Enum": [
                  "active",
                  "disabled",
                  "set_password"
                ]
              }
            }
          }
        },
        {
          "ordinal": 11,
          "name": "device_languages",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        true,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "6b4255d51a9ae241c1bfb19412ac412bb10ac66cf077830daab4a6675820e9e5": {
    "query": "update users\r\n   set display_name = $2\r\n     , email = $3\r\n     , traits = $4\r\n     , data = $5\r\n     , email_verified =\r\n            case when email = $3::text\r\n                then True\r\n                else False\r\n            end  \r\n where id = $1\r\nreturning id\r\n        , email_verified\r\n        , email\r\n        , traits\r\n        , display_name\r\n        , data",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "email_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "traits",
          "type_info": "TextArray"
        },
        {
          "ordinal": 4,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "data",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "TextArray",
          "Jsonb"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        true,
        false
      ]
    }
  },
  "6b87208ab3e6c6f5d03dba3a7099a557ddf8334dcf02b4242e737b5be2e22e08": {
    "query": "select token\r\n     , user_id\r\n     , created_at\r\n     , expire_at\r\n  from verify_email\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 2,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "expire_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "6bc7a4b811debae526a890c01495ccd7f970c5dc2d043b20b5c0605c666ff3aa": {
    "query": "update users\r\n   set email_verified = false\r\n where id = $1\r\nreturning users.email",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "email",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "771b198dee87c13461ff159572e1d2e459d7285813ccdcdade160bbdb1ea8e9b": {
    "query": "delete from password_change_requests\r\n where user_id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "787e522b074ebf20b84627714e1ed692c31a8db3b3db0f18b968dad2d9688032": {
    "query": "\r\ninsert into users\r\n    ( email\r\n    , display_name\r\n    , data\r\n    , provider_id\r\n    , project_id\r\n    , state\r\n    )\r\nselect $1 as \"email\"\r\n     , $2 as \"display_name\"\r\n     , $3::jsonb as \"data\"\r\n     , $4 as \"provider_id\"\r\n     , $5 as \"project_id\"\r\n     , case when $4 = 'link'\r\n            then 'active'::user_state\r\n            else 'set_password'::user_state\r\n        end as \"state\"\r\nreturning id\r\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Jsonb",
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "7b36c5a05bde68539c4df23fe588306f579a82247cf62a658bcb063871f92e4f": {
    "query": "insert into sessions(id, public_key, expire_at, user_id, project_id)\r\nvalues($1, $2, $3, $4, $5)\r\non conflict(id)\r\n   do update\r\n         set id = uuid_generate_v4()\r\nreturning id, public_key, expire_at, user_id, project_id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "public_key",
          "type_info": "Bytea"
        },
        {
          "ordinal": 2,
          "name": "expire_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 3,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 4,
          "name": "project_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Bytea",
          "Timestamptz",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        true,
        true
      ]
    }
  },
  "7c83667e4dfea02f11438e3a36ddd08c939782a671a82189704e215c66054f00": {
    "query": "update sessions\r\n   set user_id = $2\r\n     , expire_at = $3\r\n where id = $1\r\nreturning id, expire_at, user_id, public_key, project_id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "expire_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "public_key",
          "type_info": "Bytea"
        },
        {
          "ordinal": 4,
          "name": "project_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Timestamptz"
        ]
      },
      "nullable": [
        false,
        false,
        true,
        false,
        true
      ]
    }
  },
  "7fac0976ca0f85fc820d186880b5805719c2200d953526df1da9564f3a769cd5": {
    "query": "select private_key\r\n  from project_keys\r\n where project_id = $1\r\n   and is_active = true",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "private_key",
          "type_info": "Bytea"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "7fe945f67828d781b5a60f41226d448f91b31301cac577677d3cc766c2e305ee": {
    "query": "delete from users\r\n where id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "8b372f5603257a2a217b7fcbde685fea1a1e877b300796c40f2432ee194b1c00": {
    "query": "\r\nselect api_keys.token\r\n     , api_keys.expire_at\r\n  from api_keys\r\n where id = $1\r\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "expire_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        true
      ]
    }
  },
  "8bbf5a67f262e5211beddfe130a8e5377187cae035ab0339f3bc1b03e8e2071e": {
    "query": "\r\nwith created_project as (\r\n       insert into projects\r\n      default values\r\n    returning id\r\n), create_project_settings as (\r\n    insert into project_settings(project_id, name, domain)\r\n    select created_project.id as \"project_id\"\r\n         , $1 as \"name\"\r\n         , $2 as \"domain\"\r\n      from created_project\r\n    returning project_id\r\n)\r\ninsert into project_keys(project_id, public_key, private_key, is_active, expire_at)\r\nselect create_project_settings.project_id\r\n     , $3 as \"public_key\"\r\n     , $4 as \"private_key\"\r\n     , $5 as \"is_active\"\r\n     , $6 as \"expire_at\"\r\n  from create_project_settings\r\nreturning project_id as id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Bytea",
          "Bytea",
          "Bool",
          "Timestamptz"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "8e0a4122501901d90fad4c850837ec4c0a0dd1438d2d3a422c1304228f87ddc5": {
    "query": "delete from sessions\r\n where user_id = $1 ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "950a688987b96583dddec23083020816b69cc6b6b8bb759e7b37276229dcfdc6": {
    "query": "select template_data.from_name\r\n     , template_data.subject\r\n     , templates.body\r\n     , template_data.redirect_to\r\n     , template_data.of_type\r\n     , templates.project_id\r\n  from templates\r\n  join template_data on template_data.template_id = templates.id\r\n where templates.project_id = $1\r\n   and templates.name = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "from_name",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "subject",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "body",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "redirect_to",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "of_type",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "project_id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "9b8764aafecaf838cda3e6706b35bf72d0893d426918b654435bc47e279a6c7f": {
    "query": "with confirm_token as (\r\n    update passwordless\r\n       set confirmed = True\r\n     where id = $1\r\n returning id, email, project_id\r\n)\r\nupdate passwordless\r\n   set is_valid = False\r\n  from confirm_token\r\n where passwordless.email = confirm_token.email\r\n   and passwordless.project_id = confirm_token.project_id\r\n   and passwordless.id != confirm_token.id",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "a34b6dece676dae560a64665c0ed7498254d360162fe7902076f366c9f735bc6": {
    "query": "select body\r\n     , name\r\n  from templates\r\n where of_type = 'index'\r\n    or of_type = 'component'",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "body",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "a6116447548c62619883e58ac80a216d7ee585f378370d01a2de673b0f39b917": {
    "query": "with template as (\r\n\tselect id\r\n\t  from templates\r\n\t where project_id = $1\r\n\t   and name = $2\r\n)\r\ninsert into template_translations(template_id, language, content)\r\nselect template.id as template_id\r\n     , $3 as language\r\n     , $4 as content\r\n  from template\r\non conflict (template_id, language)\r\n   do update set content = $4",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Text",
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "a66a8b419e00097a011163435afed4b18704f2e785d56bf6852f0ecaa2605d42": {
    "query": "update projects\r\n   set flags = $2\r\n where id = $1 ",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "TextArray"
        ]
      },
      "nullable": []
    }
  },
  "ad59477d047a43c656c74ff11dad2460a64eae7c9a7431772997dfb57ab75d57": {
    "query": "select id\r\n     , display_name\r\n     , email\r\n     , email_verified\r\n     , photo_url\r\n     , traits\r\n     , data\r\n     , provider_id\r\n     , created_at\r\n     , updated_at\r\n     , state as \"state: UserState\"\r\n     , device_languages\r\n  from users\r\n where email = $1\r\n   and project_id = $2",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "email_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "photo_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "traits",
          "type_info": "TextArray"
        },
        {
          "ordinal": 6,
          "name": "data",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 7,
          "name": "provider_id",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 10,
          "name": "state: UserState",
          "type_info": {
            "Custom": {
              "name": "user_state",
              "kind": {
                "Enum": [
                  "active",
                  "disabled",
                  "set_password"
                ]
              }
            }
          }
        },
        {
          "ordinal": 11,
          "name": "device_languages",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        true,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "aed9c14ae179d09371764b64efdab5ab969eee3c4d2a1282ed971f2af957c480": {
    "query": "\r\nwith user_email as (\r\n\tupdate email_change_request\r\n\t   set state = 'reset'\r\n\t where id = $1\r\n returning old_email, user_id \r\n)\r\nupdate users\r\n   set email = user_email.old_email\r\n  from user_email\r\n where users.id = user_email.user_id",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "b6ef661d6bdddb47798be337c598c69855cd57ac9d4c158566049d320ceff651": {
    "query": "\r\nselect token\r\n     , state as \"state: EmailChangeState\"\r\n     , expire_at\r\n  from email_change_request\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "state: EmailChangeState",
          "type_info": {
            "Custom": {
              "name": "email_change_state",
              "kind": {
                "Enum": [
                  "request",
                  "reject",
                  "accept",
                  "reset"
                ]
              }
            }
          }
        },
        {
          "ordinal": 2,
          "name": "expire_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false
      ]
    }
  },
  "b75c55d1f87de4e0bdc13688fbeb28e52fccdac20707f6d1cd4f534375723596": {
    "query": "\r\nselect passwords.hash\r\n     , passwords.alg as \"alg: PasswordAlg\"\r\n  from users\r\n  join passwords on passwords.user_id = users.id\r\n where users.email = $1\r\n   and users.project_id = $2 ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "hash",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "alg: PasswordAlg",
          "type_info": {
            "Custom": {
              "name": "password_alg",
              "kind": {
                "Enum": [
                  "bcrypt",
                  "argon2id",
                  "sha1",
                  "scrypt",
                  "pbkdf2",
                  "md5"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false
      ]
    }
  },
  "b92d4ceb9520fb579055d9762986db0defc7403c85dfc2b36635eef368307d6c": {
    "query": "\r\nwith new_user_email as (\r\n\tupdate email_change_request\r\n\t   set state = 'accept'\r\n\t where id = $1\r\n returning new_email, user_id \r\n)\r\nupdate users\r\n   set email = new_user_email.new_email\r\n  from new_user_email\r\n where users.id = new_user_email.user_id",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "ba591ccb72fceab8e8ce290392d63f0c4509360cff5b989e8b06eb9bfabf4374": {
    "query": "delete from sessions\r\n where id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "ba82bc0f28255dab9075f69ec7dd2a06bbf1c5d3f755ad6cd0de42ed244adbef": {
    "query": "with add_token as (\r\n    insert into refresh_access_tokens(id, session_id, expire_at)\r\n    values($1, $2, $3)\r\n    on conflict(id) do nothing\r\n    returning id\r\n)\r\nselect count(add_token.id) = 1 as is_valid\r\n  from add_token",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "is_valid",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid",
          "Timestamptz"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "ba8a195cc1204bb3fa12ee4e975d9e7c784c4765b681e4e39d20d77110c25c43": {
    "query": "select count(users.id) as total_users\r\n  from users\r\n where project_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "total_users",
          "type_info": "Int8"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        null
      ]
    }
  },
  "badbda8f29b4a3ca55b43192e427816415ec9bcabd0c108f01297f566eb0c670": {
    "query": "select flags\r\n  from projects\r\n where id = $1 ",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "flags",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "bc6897214dee78cfc70ebe9a2e14a45852ba1831940f502874738f38c68c1789": {
    "query": "with raw_template_data as (\r\n    select *\r\n     from jsonb_to_recordset($1)\r\n      as x(\r\n          id uuid\r\n        , body text\r\n        , project_id uuid\r\n        , template_type text\r\n        , name text\r\n      )\r\n)\r\ninsert into templates\r\nselect raw_template_data.id\r\n     , raw_template_data.body\r\n     , raw_template_data.name\r\n     , raw_template_data.template_type as of_type\r\n     , raw_template_data.project_id\r\n  from raw_template_data",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Jsonb"
        ]
      },
      "nullable": []
    }
  },
  "bed443c787a51803daba01709cc8dff67a446770bb86010cf490d3ff841e3eed": {
    "query": "insert into users(email, project_id, provider_id, email_verified, device_languages)\r\nvalues($1, $2, 'link', true, $3)\r\nreturning id\r\n        , display_name\r\n        , email\r\n        , email_verified\r\n        , photo_url\r\n        , traits\r\n        , data\r\n        , provider_id\r\n        , created_at\r\n        , updated_at\r\n        , state as \"state: UserState\"\r\n        , device_languages",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "display_name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "email",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "email_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 4,
          "name": "photo_url",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "traits",
          "type_info": "TextArray"
        },
        {
          "ordinal": 6,
          "name": "data",
          "type_info": "Jsonb"
        },
        {
          "ordinal": 7,
          "name": "provider_id",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 9,
          "name": "updated_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 10,
          "name": "state: UserState",
          "type_info": {
            "Custom": {
              "name": "user_state",
              "kind": {
                "Enum": [
                  "active",
                  "disabled",
                  "set_password"
                ]
              }
            }
          }
        },
        {
          "ordinal": 11,
          "name": "device_languages",
          "type_info": "TextArray"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "TextArray"
        ]
      },
      "nullable": [
        false,
        true,
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "c35c2b51db506836c9b3c65abe285164d0152060bb1ec85489fc0eadb1a569bf": {
    "query": "insert into password_change_requests (token, user_id, project_id)\r\nvalues ($1, $2, $3)\r\nreturning id",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "d00f146bc87ffab888b3a2238729c0691962c7e90cdae44a87484cc2bd16b996": {
    "query": "with disable_user as (\r\n    update users\r\n       set state = 'disabled'\r\n     where id = $1\r\n       and project_id = $2\r\n returning id\r\n)\r\ndelete from sessions\r\n where user_id in (\r\n    select id as user_id\r\n      from disable_user\r\n )",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "d201438a3ea790f0c227066aa686d46fece5f2834deb9072b9ef2adf9a36fbe0": {
    "query": "\r\nselect password_alg as \"alg: PasswordAlg\"\r\n  from project_settings\r\n where project_settings.project_id = $1\r\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "alg: PasswordAlg",
          "type_info": {
            "Custom": {
              "name": "password_alg",
              "kind": {
                "Enum": [
                  "bcrypt",
                  "argon2id",
                  "sha1",
                  "scrypt",
                  "pbkdf2",
                  "md5"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "d2626d6b6f997289e21d78c74cb39f30fa99758edb955c047ceb32045ca04072": {
    "query": "\r\nwith update_password as (\r\n   insert into passwords (hash, user_id, alg)\r\n   values ($2, $1, $3)\r\n\ton conflict (user_id) do update\r\n      set hash = $2\r\n        , alg = $3\r\n\treturning user_id\r\n)\r\nupdate users\r\n   set state = case when state = 'set_password'\r\n                    then 'active'\r\n                    else state\r\n               end\r\n  from update_password\r\n where users.id = update_password.user_id\r\n",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "password_alg",
              "kind": {
                "Enum": [
                  "bcrypt",
                  "argon2id",
                  "sha1",
                  "scrypt",
                  "pbkdf2",
                  "md5"
                ]
              }
            }
          }
        ]
      },
      "nullable": []
    }
  },
  "d2f72625f2ccadec3be094ec627557037e142759485bb76a2945c407d83a17d8": {
    "query": "\r\ninsert into passwords (hash, user_id, alg)\r\nvalues ($2, $1, $3)\r\non conflict (user_id) do update\r\n  set hash = $2\r\n    , alg = $3",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          {
            "Custom": {
              "name": "password_alg",
              "kind": {
                "Enum": [
                  "bcrypt",
                  "argon2id",
                  "sha1",
                  "scrypt",
                  "pbkdf2",
                  "md5"
                ]
              }
            }
          }
        ]
      },
      "nullable": []
    }
  },
  "d3596e0e0fdaf69f4e9c502119f1d62b37bc423a6222868c06649b154bd1dade": {
    "query": "select domain\r\n  from project_settings\r\n where project_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "domain",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "d70ecac0fb5515d5cbb80009e461a393d84773546e0cceaf7706f9d20be438b8": {
    "query": "delete from sessions\r\n where user_id in (\r\n     select sessions.user_id\r\n       from sessions\r\n      where sessions.id = $1 \r\n )",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "d9abe2e5ad82aaf4f4e9472efa931acb93f318019380da7d8ffb293ebc2c2fa9": {
    "query": "select id\r\n     , email\r\n     , email_verified\r\n     , provider_id\r\n     , created_at\r\n     , state as \"state: UserState\"\r\n  from users\r\n where project_id = $1\r\n order by case when $2 = 'created_at' then users.created_at end desc,\r\n          case when $2 = 'email' then users.email end desc\r\n offset $3\r\n limit $4",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "email",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "email_verified",
          "type_info": "Bool"
        },
        {
          "ordinal": 3,
          "name": "provider_id",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 5,
          "name": "state: UserState",
          "type_info": {
            "Custom": {
              "name": "user_state",
              "kind": {
                "Enum": [
                  "active",
                  "disabled",
                  "set_password"
                ]
              }
            }
          }
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text",
          "Int8",
          "Int8"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "e1a9f72fd327a5531a0cb8a61c584ce3f253f4e49cbe73001927520564530b12": {
    "query": "with languages as (\r\n    select array_append(users.device_languages, project_settings.default_language) as languages\r\n      from users\r\n      join project_settings on project_settings.project_id = users.project_id \r\n     where id = $1\r\n\r\n)\r\nselect lang.prio, template_translations.content\r\n  from languages, unnest(languages.languages) WITH ORDINALITY AS lang(code, prio)\r\n  join templates on templates.name = $2\r\n  join template_translations on template_translations.language = lang.code\r\n                            and template_translations.template_id  = templates.id\r\n order by lang.prio\r\n limit 1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "prio",
          "type_info": "Int8"
        },
        {
          "ordinal": 1,
          "name": "content",
          "type_info": "Jsonb"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        null,
        false
      ]
    }
  },
  "e1afa7e153447a48952efaadd8a911499a794c7aeb01721ec76c6c0a512323af": {
    "query": "select id\r\n     , project_settings.name\r\n     , project_settings.domain\r\n     , projects.is_admin\r\n  from projects\r\n  join project_settings on project_settings.project_id = projects.id\r\n order by is_admin desc\r\n        , created_at",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "domain",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "is_admin",
          "type_info": "Bool"
        }
      ],
      "parameters": {
        "Left": []
      },
      "nullable": [
        false,
        false,
        false,
        false
      ]
    }
  },
  "e214c9dc6b6ac191c3d505b80b35412f4cc2ba41bcab288482d93395e6bcadfd": {
    "query": "select id\r\n     , created_at\r\n     , user_id\r\n     , email\r\n     , token\r\n     , is_valid\r\n     , project_id\r\n     , confirmed\r\n     , expire_at\r\n  from passwordless\r\n where id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 1,
          "name": "created_at",
          "type_info": "Timestamptz"
        },
        {
          "ordinal": 2,
          "name": "user_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 3,
          "name": "email",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "token",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "is_valid",
          "type_info": "Bool"
        },
        {
          "ordinal": 6,
          "name": "project_id",
          "type_info": "Uuid"
        },
        {
          "ordinal": 7,
          "name": "confirmed",
          "type_info": "Bool"
        },
        {
          "ordinal": 8,
          "name": "expire_at",
          "type_info": "Timestamptz"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        true,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "e3c90c2fc637bd0bd80988b89bbe915378f74780c5348c7213eabc9a56e717c7": {
    "query": "select host\r\n     , from_name\r\n     , from_email\r\n     , password\r\n     , username\r\n     , port\r\n  from email_settings\r\n where project_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "host",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "from_name",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "from_email",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "port",
          "type_info": "Int4"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": [
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  },
  "e6ae63e6bd5fdfd05923a9758639c22d22c95ea25ba9eda61922d7eb8f57a2ad": {
    "query": "delete from passwordless\r\n where email = $1\r\n   and project_id = $2",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Text",
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "e9cbe82ce88a4ddbcb1db907e14281abe7ae49e6e19d3737fdc555effe8ff579": {
    "query": "update sessions\r\n   set expire_at = $2\r\n where id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid",
          "Timestamptz"
        ]
      },
      "nullable": []
    }
  },
  "ee2492403a550bdcb1b9a22795268caec937a80d707ac7597f1980ba961b2cd1": {
    "query": "\r\ninsert into email_change_request(old_email, new_email, user_id, token, reset_token)\r\nvalues($1, $2, $3, $4, $5)\r\nreturning id\r\n",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "id",
          "type_info": "Uuid"
        }
      ],
      "parameters": {
        "Left": [
          "Text",
          "Text",
          "Uuid",
          "Text",
          "Text"
        ]
      },
      "nullable": [
        false
      ]
    }
  },
  "f2b9665414dba813517eee498f03ca85f747ff4543c7a0cffe4f321de4fdcd67": {
    "query": "update projects\r\n   set is_admin = true\r\n     , flags = '{ \"auth::signin\", \"method::email_password\" }'\r\n where id = $1",
    "describe": {
      "columns": [],
      "parameters": {
        "Left": [
          "Uuid"
        ]
      },
      "nullable": []
    }
  },
  "f765056cb5eabf9fad20bc5daf2361886f9ad7245aaa70e9ee42849cc5c320f9": {
    "query": "select email_settings.host\r\n     , coalesce(nullif(template_data.from_name, ''), email_settings.from_name) as \"from_name!\"\r\n     , email_settings.from_email\r\n     , email_settings.password\r\n     , email_settings.username\r\n     , email_settings.port\r\n     , template_data.subject as \"subject?\"\r\n     , templates.body as \"body?\"\r\n     , template_data.redirect_to as \"redirect_to?\"\r\n     , project_settings.domain\r\n     , project_settings.name\r\n  from email_settings\r\n  left join templates on templates.project_id = email_settings.project_id\r\n                     and templates.name = $2\r\n  left join template_data on template_data.template_id = templates.id\r\n  left join project_settings on project_settings.project_id = email_settings.project_id\r\n where email_settings.project_id = $1",
    "describe": {
      "columns": [
        {
          "ordinal": 0,
          "name": "host",
          "type_info": "Text"
        },
        {
          "ordinal": 1,
          "name": "from_name!",
          "type_info": "Text"
        },
        {
          "ordinal": 2,
          "name": "from_email",
          "type_info": "Text"
        },
        {
          "ordinal": 3,
          "name": "password",
          "type_info": "Text"
        },
        {
          "ordinal": 4,
          "name": "username",
          "type_info": "Text"
        },
        {
          "ordinal": 5,
          "name": "port",
          "type_info": "Int4"
        },
        {
          "ordinal": 6,
          "name": "subject?",
          "type_info": "Text"
        },
        {
          "ordinal": 7,
          "name": "body?",
          "type_info": "Text"
        },
        {
          "ordinal": 8,
          "name": "redirect_to?",
          "type_info": "Text"
        },
        {
          "ordinal": 9,
          "name": "domain",
          "type_info": "Text"
        },
        {
          "ordinal": 10,
          "name": "name",
          "type_info": "Text"
        }
      ],
      "parameters": {
        "Left": [
          "Uuid",
          "Text"
        ]
      },
      "nullable": [
        false,
        null,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false,
        false
      ]
    }
  }
}